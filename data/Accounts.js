"use strict";function taskTimer(){var t=this,e=null,r={_duration:10,limit_timer:0,counter_timer:0};return this.init=function(t){r=$.extend(!0,{},r,t)},this.start=function(){(0==r.limit_timer||r.counter_timer<=r.limit_timer)&&(e=setTimeout(function(){r.counter_timer+=1,t.timer_callback()},1e3*r._duration))},this.stop=function(){clearTimeout(e)},this.timer_callback=function(){t.get_noty()},this.get_noty=function(e){t.stop(),r.callback&&r.callback(function(e){e&&t.start()})},{init:this.init,get_noty:this.get_noty,start:this.start,stop:this.stop}}function manualTimer(t,e){if(!(this instanceof manualTimer))return new manualTimer(t,e);var r=this,i=null,s=10,n=0,a=0;return t&&(t.hasOwnProperty("dura")&&(s=t.dura),t.hasOwnProperty("limit")&&(n=t.limit)),this.start_hwnd_timer=function(){r.stop_hwnd_timer(),(0==n||a<=n)&&(i=setTimeout(function(){a+=1,r.hwnd_timer_callback()},1e3*s))},this.stop_hwnd_timer=function(){clearTimeout(i)},this.hwnd_timer_callback=function(){r.stop_hwnd_timer(),r.exe_hwnd("timer")},this.exe_hwnd=function(t,r){try{e&&e()}catch(t){}},this.bind=function(t,e){delete communicateEVT[t],communicateEVT[t]=e},{bind:this.bind,exe_hwnd:this.exe_hwnd,start_hwnd_timer:this.start_hwnd_timer,stop_hwnd_timer:this.stop_hwnd_timer}}function commnunicateTrigger(t,e,r){var i=communicateEVT[t];if(i)try{i(r)}catch(t){e="0"}finally{"0"==e&&delete communicateEVT[t]}}window.ComApp=window.ComApp||{},window.ComApp.Warehouse=window.ComApp.Warehouse||{},window.ComApp.Warehouse.srcv=window.ComApp.Warehouse.srcv||{},window.ComApp.Warehouse.apiweb=window.ComApp.Warehouse.apiweb||{},function(){var srcv={},apiweb={},apiprefix=encodeURIComponent("@api");srcv.loadCatcha=function(success,fail,tryOpt){var engine=ComApp.srcv.DimUtils,apisvr=engine._url.replace(apiprefix,"634384032773750000092197");engine._sendRequest(apisvr,"GET",null,null,tryOpt).done(function(t){success.call(this,t)}).fail(function(err,responseText){!tryOpt&&err&&err.errorDetails&&"JSTRY"==err.errorDetails.statusText?srcv.loadCatcha(success,fail,eval(err.errorDetails.responseText)):fail(err,responseText)})},srcv.LOG=function(type,api,values,success,error){var engine=eval(api),apisvr=engine._url},srcv.Utils={busy:!1,unlocked:!1,retryLimit:1,tryCount:0,tryUI:function(){this.tryCount>0&&(this.tryCount=0),this.unlocked&&screenloader_frm.css("display","none")},api:function(type,api,values,success,error,tryOpt){var that=this,engine=ComApp.srcv.DimUtils,apisvr=engine._url.replace(apiprefix,api);that.busy=!0;var _params=null,_payload=null;return"GET"==type?_params=values:_payload=values,engine._sendRequest(apisvr,type,_params,_payload,tryOpt).done(function(t){that.busy=!1,success.call(this,t),that.tryUI()}).fail(function(err,responseText){if(that.busy=!1,!tryOpt&&err&&err.errorDetails){if(0==err.httpStatus&&"634374721143258750061757"==api.split("?")[0])return that.tryUI(),chochut(1,""),void error(err,responseText);if("JSTRY"==err.errorDetails.statusText)return void that.api(type,api,values,success,error,eval(err.errorDetails.responseText));if("BANNED"==err.errorDetails.statusText)return void banned(err.errorDetails.responseText,function(){screenloader_frm.css("display",""),that.unlocked=!0,that.api(type,api,values,success,error,tryOpt)});if("_$ERR100%"!=err.errorDetails.statusText&&(that.tryCount++,that.tryCount<that.retryLimit))return screenloader_frm.css("display",""),that.unlocked=!0,void that.api(type,api,values,success,error,tryOpt)}500==err.httpStatus?(DevExpress.ui.notify("Error: '"+err.message,"error",5e3),LogDB.setItem(apisvr+"|"+Date.now().toString(),err.message),error(err,responseText),that.tryUI(),chochut(1,"")):0==err.httpStatus?chochut(-1,function(){screenloader_frm.css("display",""),that.unlocked=!0,that.api(type,api,values,success,error,tryOpt)}):(error(err,responseText),that.tryUI(),values&&values.nextview&&chochut(1,""))})}},$.extend(ComApp.Warehouse.srcv,srcv),apiweb.loadCatcha=function(t,e){var r=ComApp.srcv.DimUtils,i=r._url.replace(apiprefix,"CaptchaImage/GetCaptcha");r._sendRequest(i,"GET",null,null,{token:"zluMERc%5b%5el%5ewpm3G1t7%2fEz4QqKk%2bSDdMnkFfnJ5i8ucBfh07tScdzhzy7FMZuCx3g%60jZ%5cZ%2bTL3N",fuck:encodeURIComponent(window.location)}).done(function(e){t.call(this,e)}).fail(function(t,r){e(t,r)})},$.extend(ComApp.Warehouse.apiweb,apiweb)}();